# nvm-fish

[![AUR version](https://img.shields.io/aur/version/nvm-fish?logo=arch-linux&logoColor=white)](https://aur.archlinux.org/packages/nvm-fish)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

*é˜…è¯»å…¶ä»–è¯­è¨€ç‰ˆæœ¬: [English](README.md)*

Arch Linux ä¸‹ Fish shell çš„ Node Version Manager (nvm) é›†æˆã€‚

## ğŸ‰ v1.1.2 ç‰ˆæœ¬æ›´æ–°

### å…³é”®å®‰å…¨å’Œè´¨é‡æ”¹è¿›
- ğŸ”’ **å¢å¼ºå®‰å…¨æ€§**ï¼šä¿®å¤ä¸´æ—¶ç›®å½•åˆ›å»ºæ¼æ´ï¼Œæ·»åŠ ç”¨æˆ·ç‰¹å®šæ ‡è¯†ç¬¦
- ğŸ”§ **æ”¹è¿›å‡½æ•°å¯é æ€§**ï¼šä¸º nvm_dir å‡½æ•°è°ƒç”¨æ·»åŠ å¥å£®çš„å›é€€æœºåˆ¶
- ğŸŒ **å›½é™…åŒ–æ”¯æŒ**ï¼šå°†æ‰€æœ‰ä¸­æ–‡æ³¨é‡Šå’Œæ¶ˆæ¯ç¿»è¯‘ä¸ºè‹±æ–‡ï¼Œæå‡å…¨çƒå…¼å®¹æ€§
- ğŸ› **CI/CD æµæ°´çº¿ä¿®å¤**ï¼šä¿®æ­£ GitHub Actions æµ‹è¯•è„šæœ¬è·¯å¾„å’Œé…ç½®
- ğŸ§ª **å¢å¼ºæµ‹è¯•**ï¼šå…¨é¢çš„æµ‹è¯•å¥—ä»¶æ”¹è¿›å’Œä»£ç è´¨é‡éªŒè¯
- ğŸ“ **è¯­æ³•ä¿®æ­£**ï¼šä¿®å¤ Fish shell è¯­æ³•é”™è¯¯å’Œå¼•å·è½¬ä¹‰é—®é¢˜
- âš¡ **æ€§èƒ½ä¼˜åŒ–**ï¼šè§£å†³å˜é‡ä½œç”¨åŸŸé—®é¢˜ï¼Œæå‡æ•´ä½“ä»£ç è´¨é‡

### æŠ€æœ¯æ”¹è¿›
- ğŸ—ï¸ **å¥å£®çš„é”™è¯¯å¤„ç†**ï¼šå¢å¼ºé”™è¯¯æ¢å¤æœºåˆ¶å’Œæ•…éšœå®‰å…¨ç³»ç»Ÿ
- ğŸ¯ **ä»£ç è´¨é‡**ï¼šä¿®å¤å˜é‡åæ‹¼å†™é”™è¯¯ï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§
- ğŸ”„ **è‡ªåŠ¨åŒ–æµ‹è¯•**ï¼šæ”¹è¿› GitHub Actions å·¥ä½œæµç¨‹ï¼Œæä¾›æ›´å¥½çš„éªŒè¯
- ğŸ“Š **æ›´å¥½çš„è¦†ç›–**ï¼šæ‰©å±•é…ç½®å’Œæ€§èƒ½åŠŸèƒ½çš„æµ‹è¯•è¦†ç›–

## æ¦‚è¿°

è¿™ä¸ªåŒ…ä¸º Arch Linux ä¸Šçš„ Fish shell æä¾›äº† nvm (Node Version Manager) é›†æˆã€‚å®ƒå…è®¸ä½ åœ¨ Fish shell ä¸­ä½¿ç”¨ nvm å‘½ä»¤ï¼Œå¹¶æ”¯æŒé€šè¿‡ .nvmrc æ–‡ä»¶è‡ªåŠ¨åˆ‡æ¢ Node.js ç‰ˆæœ¬ã€‚

### âœ¨ ä¸»è¦ç‰¹æ€§

- ğŸŸ **å®Œå…¨çš„ Fish shell é›†æˆ**ï¼šæ‰€æœ‰ nvm å‘½ä»¤åœ¨ Fish ä¸­æ— ç¼å·¥ä½œ
- ğŸ¯ **è‡ªåŠ¨ç‰ˆæœ¬åˆ‡æ¢**ï¼šæ”¯æŒ .nvmrc æ–‡ä»¶ï¼ŒåŸºäºç›®å½•è‡ªåŠ¨åˆ‡æ¢
- ğŸ”§ **æ™ºèƒ½ä¾èµ–ç®¡ç†**ï¼šè‡ªåŠ¨æ£€æµ‹å’Œå®‰è£… bass
- ğŸ“¦ **é›¶æ±¡æŸ“å®‰è£…**ï¼šä¸ç ´åç°æœ‰ Fish ç¯å¢ƒ
- âš¡ **å³å¼€å³ç”¨**ï¼šå®‰è£…åç«‹å³å¯ç”¨ï¼Œæ— éœ€é…ç½®

## ä¾èµ–

- `nvm` - Node Version Managerï¼ˆæ¥è‡ª Arch Linux extra ä»“åº“ï¼‰
- `fish` - Fish shell
- `bass` - Bash åˆ° Fish è½¬æ¢å·¥å…·ï¼ˆè‡ªåŠ¨ç®¡ç†ï¼‰

## å®‰è£…

### ä» AUR å®‰è£…

```bash
# ä½¿ç”¨ yay æˆ–å…¶ä»– AUR helper
yay -S nvm-fish

# æˆ–è€…æ‰‹åŠ¨æ„å»º
git clone https://aur.archlinux.org/nvm-fish.git
cd nvm-fish
makepkg -si
```

### è‡ªåŠ¨é…ç½®

æ— éœ€æ‰‹åŠ¨é…ç½®ï¼ç¬¬ä¸€æ¬¡ä½¿ç”¨ nvm å‘½ä»¤æ—¶ä¼šè‡ªåŠ¨ï¼š
- æ£€æŸ¥å’Œé…ç½® bass ç¯å¢ƒ
- è®¾ç½® Fish shell é›†æˆ
- å¯ç”¨è‡ªåŠ¨ç‰ˆæœ¬åˆ‡æ¢

## å¿«é€Ÿå¼€å§‹

å®‰è£…å®Œæˆåï¼Œè¿è¡Œä¸€æ¬¡åˆå§‹åŒ–å‘½ä»¤ï¼š

```fish
# åˆå§‹åŒ– nvm-fishï¼ˆå®‰è£…åè¿è¡Œä¸€æ¬¡ï¼‰
nvm init

# ç„¶åä½ å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨æ‰€æœ‰ nvm åŠŸèƒ½
nvm --version
nvm install node
nvm use node
```

**`nvm init` å‘½ä»¤ä¼šï¼š**
- âœ… æ£€æµ‹å¹¶å®‰è£… bass ä¾èµ–ï¼ˆé€šè¿‡æ’ä»¶ç®¡ç†å™¨æˆ–æ‰‹åŠ¨å®‰è£…ï¼‰
- âœ… è‡ªåŠ¨é…ç½® Fish shell é›†æˆ
- âœ… å¯ç”¨è‡ªåŠ¨ .nvmrc ç‰ˆæœ¬åˆ‡æ¢
- âœ… è®¾ç½®æ— ç¼ nvm ä½¿ç”¨æ‰€éœ€çš„ä¸€åˆ‡

## ä½¿ç”¨æ–¹æ³•

è¿è¡Œ `nvm init` åï¼Œä½ å¯ä»¥æ­£å¸¸ä½¿ç”¨æ‰€æœ‰ nvm å‘½ä»¤ï¼š

```fish
# æ£€æŸ¥ nvm ç‰ˆæœ¬
nvm --version

# å®‰è£…æœ€æ–° Node.js
nvm install node

# å®‰è£…ç‰¹å®šç‰ˆæœ¬
nvm install 18.17.0

# åˆ‡æ¢ç‰ˆæœ¬
nvm use 18

# è®¾ç½®é»˜è®¤ç‰ˆæœ¬
nvm alias default 18

# åˆ—å‡ºå·²å®‰è£…ç‰ˆæœ¬
nvm ls

# åˆ—å‡ºå¯ç”¨ç‰ˆæœ¬
nvm ls-remote

# å®‰è£… LTS ç‰ˆæœ¬
nvm install --lts
```

### è‡ªåŠ¨ç‰ˆæœ¬åˆ‡æ¢

åˆ›å»º `.nvmrc` æ–‡ä»¶å®ç°è‡ªåŠ¨ç‰ˆæœ¬åˆ‡æ¢ï¼š

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .nvmrc
echo "18.17.0" > .nvmrc

# å½“ä½ è¿›å…¥ç›®å½•æ—¶ï¼Œnvm ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°æŒ‡å®šç‰ˆæœ¬
cd your-project
```

## å·¥ä½œåŸç†

è¿™ä¸ªåŒ…æä¾›äº†å››ä¸ªä¸»è¦ Fish å‡½æ•°ï¼š

1. `nvm` - ä½¿ç”¨ bass è°ƒç”¨åŸå§‹ bash nvm å‘½ä»¤ï¼ˆè‡ªåŠ¨æ£€æµ‹ bass ç¯å¢ƒï¼‰
2. `nvm_find_nvmrc` - åœ¨å½“å‰æˆ–çˆ¶ç›®å½•ä¸­æŸ¥æ‰¾ .nvmrc æ–‡ä»¶
3. `load_nvm` - ç›®å½•æ”¹å˜æ—¶è‡ªåŠ¨åŠ è½½ç›¸åº”çš„ Node.js ç‰ˆæœ¬
4. `__nvm_setup_bass` å’Œç›¸å…³è¾…åŠ©å‡½æ•° - æ™ºèƒ½ bass ç¯å¢ƒç®¡ç†

### Bass è‡ªåŠ¨ç®¡ç†

- **æ£€æµ‹ç°æœ‰å®‰è£…**ï¼šé¦–å…ˆæ£€æŸ¥ bass æ˜¯å¦å·²å®‰è£…
- **æ’ä»¶ç®¡ç†å™¨æ”¯æŒ**ï¼šè‡ªåŠ¨æ£€æµ‹å¹¶ä½¿ç”¨ fisherã€Oh My Fishã€fundle
- **æœ¬åœ°å›é€€**ï¼šå¦‚æœæ²¡æœ‰æ’ä»¶ç®¡ç†å™¨ï¼Œä» GitHub ä¸‹è½½æºç å¹¶æœ¬åœ°é…ç½®
- **ç¯å¢ƒä¿æŠ¤**ï¼šæœ¬åœ°å®‰è£…ä¸ä¼šå½±å“ç”¨æˆ·çš„å…¨å±€ Fish é…ç½®

## æ•…éšœæ’é™¤

### bass ç›¸å…³é—®é¢˜

å¦‚æœ bass å®‰è£…å¤±è´¥ï¼Œå¯ä»¥æ‰‹åŠ¨å®‰è£…ï¼š

```fish
# å®‰è£… fisher ç„¶åå®‰è£… bass
curl -sL https://raw.githubusercontent.com/jorgebucaran/fisher/main/functions/fisher.fish | source
fisher install jorgebucaran/fisher
fisher install edc/bass

# æˆ–å®‰è£… Oh My Fish ç„¶åå®‰è£… bass
curl https://raw.githubusercontent.com/oh-my-fish/oh-my-fish/master/bin/install | fish
omf install bass
```

### å‡½æ•°æœªæ‰¾åˆ°

å¦‚æœçœ‹åˆ° "Unknown command" é”™è¯¯ï¼š

1. é‡å¯ Fish shellï¼š`exec fish`
2. æˆ–è€…é‡æ–°åŠ è½½é…ç½®ï¼š`source ~/.config/fish/config.fish`

### æƒé™é—®é¢˜

ç¡®ä¿ä½ æœ‰å®‰è£…åŒ…çš„æƒé™ï¼ŒæŸäº› AUR helper å¯èƒ½éœ€è¦ sudoã€‚

## å¸¸è§é—®é¢˜

**Q: å®‰è£…å nvm å‘½ä»¤ä¸å·¥ä½œï¼Ÿ**
A: è¯·é‡å¯ Fish shell æˆ–è¿è¡Œ `exec fish`ã€‚è¿™æ˜¯ Fish çš„æ­£å¸¸è¡Œä¸ºã€‚

**Q: å¯ä»¥ä¸ç°æœ‰çš„ bash nvm å®‰è£…å…±å­˜å—ï¼Ÿ**
A: å¯ä»¥ï¼è¿™ä¸ªåŒ…ä½¿ç”¨å®˜æ–¹ nvm åŒ…ä½œä¸ºä¾èµ–ï¼Œæ‰€ä»¥å®Œå…¨å…¼å®¹ã€‚

**Q: è‡ªåŠ¨ç‰ˆæœ¬åˆ‡æ¢ä¸å·¥ä½œï¼Ÿ**
A: ç¡®ä¿ load_nvm å·²æ·»åŠ åˆ°ä½ çš„ config.fishã€‚åŒ…ä¼šè‡ªåŠ¨å¤„ç†è¿™ä¸ªï¼Œä½†å¦‚æœä½ æ‰‹åŠ¨ä¿®æ”¹è¿‡é…ç½®æ–‡ä»¶ï¼Œå¯èƒ½éœ€è¦é‡æ–°æ·»åŠ ã€‚

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·ï¼š

1. Fork è¿™ä¸ªä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b my-new-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -am 'Add some feature'`
4. æ¨é€åˆ°åˆ†æ”¯ï¼š`git push origin my-new-feature`
5. æäº¤ Pull Request

## è®¸å¯è¯

MIT License - ä¸ä¸Šæ¸¸ nvm é¡¹ç›®ä¿æŒä¸€è‡´ã€‚